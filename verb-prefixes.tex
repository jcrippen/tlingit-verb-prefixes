%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
% The cruft above tells TeX editors (e.g. TeXShop) what this file contains.

%% Only tested with XeLaTeX.
%\RequireXeTeX

%% Unicode normalization of input text.
%%  0: no normalization (default)
%%  1: normalize to NFC
%%  2: normalize to NFD
\XeTeXinputnormalization 1

%% FIle prefix.
%% This is the unchanging part of all file names for this document.
\def \FILEPREFIX {verb-prefixes}

%% The Memoir class.
%% The manual is memman.pdf.
\documentclass[12pt,letterpaper,landscape,oneside,article]{memoir}

%% LaTeX3 command parsing.
%% Should be used by all modern, right thinking LaTeX programmers.
\usepackage{xparse}

%%%
%%% Memoir configuration.
%%%

\input{\FILEPREFIX-memconf}

%%%
%%% Font configuration.
%%%

\input{\FILEPREFIX-fonts}
\input{\FILEPREFIX-fonts-symbols}

%%%
%%% Bibliography configuration.
%%%

\input{\FILEPREFIX-bib}

%%%
%%% Example and glossing configuration.
%%%

\input{\FILEPREFIX-expex}

%%%
%%% Other packages.
%%%
\input{\FILEPREFIX-other}

%%%
%%% Hyperlinks and crossreferences.
%%%

\input{\FILEPREFIX-hyper}

%%%
%%% Miscellaneous macrology.
%%%

\input{\FILEPREFIX-macrology}

%% Questionable form marker.
%%
%% To be used at the end of a cell in a table. Uses \rlap to float it into
%% the following intercolumn space without affecting column alignment. This
%% overwrites the original \? command (for ¿) which we don’t need.
\DeclareDocumentCommand \supques {} {\textsuperscript*{\textbf{?}}}
\DeclareDocumentCommand \? {} {\rlap{\supques}}

%%%
%%% Colour macrology.
%%%
\RequirePackage{xcolor}

% Colour definitions.
% qualifiers
\definecolor{Qcolor}{rgb}{0.00,0.33,0.33}
% irrealis
\definecolor{Rcolor}{rgb}{0.90,0.50,0.50}
% irrealis coalescence
\definecolor{rcolor}{rgb}{1.00,0.95,0.95}
% aspect/conjugation
\definecolor{Acolor}{rgb}{0.70,0.40,0.00}
% aspect/conjugation coalescence
\definecolor{acolor}{rgb}{1.00,1.00,0.85}
% modality
\definecolor{Mcolor}{rgb}{0.00,0.66,0.66}
% modality coalescence
\definecolor{mcolor}{rgb}{0.90,1.00,1.00}
% subject
\definecolor{Scolor}{rgb}{0.50,0.00,0.66}
% d- prefix
\definecolor{Dcolor}{rgb}{0.00,0.00,0.75}
% d- prefix deletion
\definecolor{dcolor}{rgb}{0.90,0.90,1.00}
% s-/l-/sh- prefix
\definecolor{Fcolor}{rgb}{0.00,0.50,0.00}
% i- prefix
\definecolor{Icolor}{rgb}{0.75,0.00,0.00}
% epenthesis
\definecolor{Ecolor}{rgb}{0.75,0.75,0.75}
% deletion or coalescence
\definecolor{Xcolor}{rgb}{0.97,0.97,0.97}

% Uncomment to make everything black.
%\definecolor{Qcolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Rcolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Acolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Mcolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Scolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Dcolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Fcolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Icolor}{rgb}{0.00,0.00,0.00}
%\definecolor{Ecolor}{rgb}{0.00,0.00,0.00}

% Uncomment to make everything light grey.
%\definecolor{Qcolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Rcolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Acolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Mcolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Scolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Dcolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Fcolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Icolor}{rgb}{0.90,0.90,0.90}
%\definecolor{Ecolor}{rgb}{0.90,0.90,0.90}

%% A strut with 90 percent of normal height and width for the colorbox.
%% See http://tex.stackexchange.com/questions/74459/remove-space-before-colorbox
\ProvideDocumentCommand \colorboxstrut {} {\vrule width 0pt height 0.9\ht\strutbox depth 0.9\dp\strutbox\relax}

\ProvideDocumentCommand \Qf {m} {\textcolor{Qcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Rf {m} {\textcolor{Rcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \rf {m} {\setlength{\fboxsep}{0pt}\colorbox{rcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Af {m} {\textcolor{Acolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \af {m} {\setlength{\fboxsep}{0pt}\colorbox{acolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Mf {m} {\textcolor{Mcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \mf {m} {\setlength{\fboxsep}{0pt}\colorbox{mcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Sf {m} {\textcolor{Scolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Df {m} {\textcolor{Dcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Ff {m} {\textcolor{Fcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \If {m} {\textcolor{Icolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Xf {m} {\setlength{\fboxsep}{0pt}\colorbox{Xcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \df {m} {\setlength{\fboxsep}{0pt}\colorbox{dcolor}{\colorboxstrut{}#1}}
\ProvideDocumentCommand \Ef {m} {\textcolor{Ecolor}{\colorboxstrut{}#1}}

%%%
%%% Includeonlies.
%%%

%% These determine which files to include.
%% Uncomment one line to include only that file.
%\includeonly{sections/verb-prefixes-01-introduction}
%\includeonly{sections/verb-prefixes-02-unmarked}
%\includeonly{sections/verb-prefixes-03-nconj}
%\includeonly{sections/verb-prefixes-04-ghconj}
%\includeonly{sections/verb-prefixes-05-gconj}
%\includeonly{sections/verb-prefixes-06-perfective}
%\includeonly{sections/verb-prefixes-07-prospective}


%%%
%%% The document.
%%%
\begin{document}
\pagestyle{mine}

\title{Tlingit verb prefix paradigms}
\author{\textit{Dzéiwsh} James A.\ Crippen}
\maketitle

\begin{KeepFromToc}
\tableofcontents
\end{KeepFromToc}

\include{sections/verb-prefixes-01-introduction}
\include{sections/verb-prefixes-02-unmarked}
\include{sections/verb-prefixes-03-nconj}
\include{sections/verb-prefixes-04-ghconj}
\include{sections/verb-prefixes-05-gconj}
\include{sections/verb-prefixes-06-perfective}
\include{sections/verb-prefixes-07-prospective}

\end{document}
